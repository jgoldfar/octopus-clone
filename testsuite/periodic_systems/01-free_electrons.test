# -*- coding: utf-8 mode: shell-script -*-
# $Id$

Test       : Free Electron Bands in 1D
Program    : octopus
TestGroups : short-run, periodic_systems
Enabled    : Yes

Input: 01-free_electrons.01-ground_state.inp

match ; Total k-points   ; GREPFIELD(static/info, 'Total number of k-points', 6) ; 6; 0.0001

#These matches are disabled since the ion-ion energy calculation is wrong
#match ; Total energy       ; GREPFIELD(static/info, 'Total       =', 3) ; 535738.21201662
#match ; Ion-ion energy     ; GREPFIELD(static/info, 'Ion-ion     =', 3) ; 535738.20362713
match ; Eigenvalues sum    ; GREPFIELD(static/info, 'Eigenvalues =', 3) ; 0.00838949; 0.0001
match ; Hartree energy     ; GREPFIELD(static/info, 'Hartree     =', 3) ; 0.00000000; 0.0001
match ; Exchange energy    ; GREPFIELD(static/info, 'Exchange    =', 3) ; 0.00000000; 0.0001
match ; Correlation energy ; GREPFIELD(static/info, 'Correlation =', 3) ; 0.00000000; 0.0001
match ; Kinetic energy     ; GREPFIELD(static/info, 'Kinetic     =', 3) ; 0.00838949; 0.0001
match ; External energy    ; GREPFIELD(static/info, 'External    =', 3) ; 0.00000000; 0.0001

Input: 01-free_electrons.02-unocc.inp

match ; Bands n=1,k=1; GREPFIELD(static/eigenvalues, '#k =   1', 3, 1) ; 0.000000; 0.0001
match ; Bands n=1,k=2; GREPFIELD(static/eigenvalues, '#k =   2', 3, 1) ; 0.000493; 0.0001
match ; Bands n=1,k=3; GREPFIELD(static/eigenvalues, '#k =   3', 3, 1) ; 0.001974; 0.0001
match ; Bands n=1,k=4; GREPFIELD(static/eigenvalues, '#k =   4', 3, 1) ; 0.004441; 0.0001
match ; Bands n=1,k=5; GREPFIELD(static/eigenvalues, '#k =   5', 3, 1) ; 0.007896; 0.0001
match ; Bands n=1,k=6; GREPFIELD(static/eigenvalues, '#k =   6', 3, 1) ; 0.012337; 0.0001

match ; Bands n=2,k=1; GREPFIELD(static/eigenvalues, '#k =   1', 3, 2) ; 0.049348; 0.0001
match ; Bands n=2,k=2; GREPFIELD(static/eigenvalues, '#k =   2', 3, 2) ; 0.039972; 0.0001
match ; Bands n=2,k=3; GREPFIELD(static/eigenvalues, '#k =   3', 3, 2) ; 0.031583; 0.0001
match ; Bands n=2,k=4; GREPFIELD(static/eigenvalues, '#k =   4', 3, 2) ; 0.024181; 0.0001
match ; Bands n=2,k=5; GREPFIELD(static/eigenvalues, '#k =   5', 3, 2) ; 0.017765; 0.0001
match ; Bands n=2,k=6; GREPFIELD(static/eigenvalues, '#k =   6', 3, 2) ; 0.012337; 0.0001

match ; Bands n=3,k=1; GREPFIELD(static/eigenvalues, '#k =   1', 3, 3) ; 0.049348  ; 0.0001
match ; Bands n=3,k=2; GREPFIELD(static/eigenvalues, '#k =   2', 3, 3) ; 0.059711; 0.0001
match ; Bands n=3,k=3; GREPFIELD(static/eigenvalues, '#k =   3', 3, 3) ; 0.071061; 0.0001
match ; Bands n=3,k=4; GREPFIELD(static/eigenvalues, '#k =   4', 3, 3) ; 0.083398; 0.0001
match ; Bands n=3,k=5; GREPFIELD(static/eigenvalues, '#k =   5', 3, 3) ; 0.096722; 0.0001
match ; Bands n=3,k=6; GREPFIELD(static/eigenvalues, '#k =   6', 3, 3) ; 0.111033; 0.0001

match ; Bands n=4,k=1; GREPFIELD(static/eigenvalues, '#k =   1', 3, 4) ; 0.197392; 0.0001
match ; Bands n=4,k=2; GREPFIELD(static/eigenvalues, '#k =   2', 3, 4) ; 0.178146; 0.0001
match ; Bands n=4,k=3; GREPFIELD(static/eigenvalues, '#k =   3', 3, 4) ; 0.159888; 0.0001
match ; Bands n=4,k=4; GREPFIELD(static/eigenvalues, '#k =   4', 3, 4) ; 0.142616; 0.0001
match ; Bands n=4,k=5; GREPFIELD(static/eigenvalues, '#k =   5', 3, 4) ; 0.126331; 0.0001
match ; Bands n=4,k=6; GREPFIELD(static/eigenvalues, '#k =   6', 3, 4) ; 0.111033; 0.0001

match ; Bands n=5,k=1; GREPFIELD(static/eigenvalues, '#k =   1', 3, 5) ; 0.197392; 0.0001
match ; Bands n=5,k=2; GREPFIELD(static/eigenvalues, '#k =   2', 3, 5) ; 0.217625; 0.0001
match ; Bands n=5,k=3; GREPFIELD(static/eigenvalues, '#k =   3', 3, 5) ; 0.238845; 0.0001
match ; Bands n=5,k=4; GREPFIELD(static/eigenvalues, '#k =   4', 3, 5) ; 0.261051; 0.0001
match ; Bands n=5,k=5; GREPFIELD(static/eigenvalues, '#k =   5', 3, 5) ; 0.284245; 0.0001
match ; Bands n=5,k=6; GREPFIELD(static/eigenvalues, '#k =   6', 3, 5) ; 0.308425; 0.0001

